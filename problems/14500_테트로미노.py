n, m = map(int, input().split())
arr = [[*map(int, input().split())] for _ in range(n)]

shapes = [
    [(0, 0), (0, 1), (0, 2), (0, 3)], # 길쭉
    [(0, 0), (1, 0), (2, 0), (3, 0)],
    [(0, 0), (0, 1), (1, 0), (1, 1)], # 정사각
    [(0, 0), (1, 0), (2, 0), (2, 1)], # L자
    [(0, 0), (0, 1), (0, 2), (1, 0)],
    [(0, 0), (0, 1), (1, 1), (2, 1)],
    [(0, 0), (0, 1), (0, 2), (-1, 2)],
    [(0, 0), (0, 1), (1, 0), (2, 0)],
    [(0, 0), (1, 0), (1, 1), (1, 2)],
    [(0, 0), (1, 0), (2, 0), (2, -1)],
    [(0, 0), (0, 1), (0, 2), (1, 2)],
    [(0, 0), (1, 0), (1, 1), (2, 1)], # ㄱㄴ
    [(0, 0), (0, 1), (-1, 1), (-1, 2)],
    [(0, 0), (0, 1), (-1, 1), (1, 0)],
    [(0, 0), (0, 1), (1, 1), (1, 2)],
    [(0, 0), (0, 1), (0, 2), (1, 1)], # ㅜ
    [(0, 0), (0, 1), (-1, 1), (1, 1)],
    [(0, 0), (0, 1), (-1, 1), (0, 2)],
    [(0, 0), (1, 0), (1, 1), (2, 0)]
]

answer = 0
for r in range(n):
    for c in range(m):
        for shape in shapes:
            tmp = 0
            success = True
            for i in range(4):
                dr, dc = shape[i]
                if 0 <= r + dr < n and 0 <= c + dc < m:
                    tmp += arr[r+dr][c+dc]
                else:
                    success = False
                    break
            if success:
                if tmp > answer:
                    answer = tmp
print(answer)